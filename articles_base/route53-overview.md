# Amazon Route 53

## â˜˜ï¸ ã¯ã˜ã‚ã«

æœ¬ãƒšãƒ¼ã‚¸ã¯ã€AWS ã«é–¢ã™ã‚‹å€‹äººã®å‹‰å¼·ãŠã‚ˆã³å‹‰å¼·ä¼šã§ä½¿ç”¨ã™ã‚‹ã“ã¨ã‚’ç›®çš„ã«ã€AWS ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãªã©ã‚’å‚ç…§ã—ä½œæˆã—ã¦ãŠã‚Šã¾ã™ãŒã€è¨˜è¼‰ã®èª¤ã‚Šç­‰ãŒå«ã¾ã‚Œã‚‹å ´åˆãŒã”ã–ã„ã¾ã™ã€‚

æœ€æ–°ã®æƒ…å ±ã«ã¤ã„ã¦ã¯ã€AWS å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’ã”å‚ç…§ãã ã•ã„ã€‚

## ğŸ‘€ Contents

- [Amazon Route 53](#amazon-route-53)
  - [â˜˜ï¸ ã¯ã˜ã‚ã«](#ï¸-ã¯ã˜ã‚ã«)
  - [ğŸ‘€ Contents](#-contents)
  - [Amazon Route 53 ã¨ã¯](#amazon-route-53-ã¨ã¯)
  - [ãƒ‰ãƒ¡ã‚¤ãƒ³ã®æ–°è¦ç™»éŒ²](#ãƒ‰ãƒ¡ã‚¤ãƒ³ã®æ–°è¦ç™»éŒ²)
  - [ãƒ‰ãƒ¡ã‚¤ãƒ³ã®ç§»ç®¡](#ãƒ‰ãƒ¡ã‚¤ãƒ³ã®ç§»ç®¡)
  - [Route 53 ã‚’æ§‹æˆã™ã‚‹è¦ç´ ](#route-53-ã‚’æ§‹æˆã™ã‚‹è¦ç´ )
  - [ãƒ›ã‚¹ãƒˆã‚¾ãƒ¼ãƒ³](#ãƒ›ã‚¹ãƒˆã‚¾ãƒ¼ãƒ³)
  - [DNS ãƒ¬ã‚³ãƒ¼ãƒ‰ã‚¿ã‚¤ãƒ—](#dns-ãƒ¬ã‚³ãƒ¼ãƒ‰ã‚¿ã‚¤ãƒ—)
  - [DNS ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°](#dns-ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°)
  - [Route 53 Resolver](#route-53-resolver)
  - [Route 53 Resolver for Hybrid Clouds](#route-53-resolver-for-hybrid-clouds)
  - [DNS ãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯](#dns-ãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯)
  - [Amazon Route 53 ã®æ–™é‡‘](#amazon-route-53-ã®æ–™é‡‘)
  - [Route 53 ã®ã‚¯ã‚©ãƒ¼ã‚¿](#route-53-ã®ã‚¯ã‚©ãƒ¼ã‚¿)
  - [Amazon Route 53 ãŒ DNS ãƒªã‚½ãƒ¼ã‚¹ãƒ¬ã‚³ãƒ¼ãƒ‰ã‚»ãƒƒãƒˆã«å¯¾ã™ã‚‹ã‚¢ã‚¯ã‚»ã‚¹è¨±å¯ã‚’ã‚µãƒãƒ¼ãƒˆï¼ˆ2022-9-21ï¼‰](#amazon-route-53-ãŒ-dns-ãƒªã‚½ãƒ¼ã‚¹ãƒ¬ã‚³ãƒ¼ãƒ‰ã‚»ãƒƒãƒˆã«å¯¾ã™ã‚‹ã‚¢ã‚¯ã‚»ã‚¹è¨±å¯ã‚’ã‚µãƒãƒ¼ãƒˆ2022-9-21)
  - [ğŸ“– ã¾ã¨ã‚](#-ã¾ã¨ã‚)

## Amazon Route 53 ã¨ã¯

Duration: 1:53:43

å¯ç”¨æ€§ã¨æ‹¡å¼µæ€§ã«å„ªã‚ŒãŸã‚¯ãƒ©ã‚¦ãƒ‰ã®ãƒ‰ãƒ¡ã‚¤ãƒ³ãƒãƒ¼ãƒ ã‚·ã‚¹ãƒ†ãƒ  (DNS) ã‚¦ã‚§ãƒ–ã‚µãƒ¼ãƒ“ã‚¹ã§ã™ã€‚AWS ã®ã‚µãƒ¼ãƒ“ã‚¹ã®ä¸­ã§å”¯ä¸€ SLA ãŒ 100 % ã®ã‚µãƒ¼ãƒ“ã‚¹ã§ã™ã€‚

ãƒ«ãƒ¼ãƒˆãƒ•ã‚£ãƒ•ãƒ†ã‚£ã‚¹ãƒªãƒ¼ã¨èª­ã¿ã¾ã™ã€‚

ãªãœ 53 ãŒä»˜ãã®ã‹ã¨ã„ã†ã¨ã€DNS ãŒä½¿ç”¨ã™ã‚‹ãƒãƒ¼ãƒˆç•ªå·ãŒ 53 ç•ªã ã‹ã‚‰ã§ã™ã€‚

DNS ï¼Ÿï¼Ÿã¨ã„ã†äººã¯ã€[DNS ã¨ã¯](https://aws.amazon.com/jp/route53/what-is-dns/) ã‚’å‚ç…§ã™ã‚‹ã¨ã‚ˆã„ã§ã—ã‚‡ã†ã€‚

ã€AWS Black Belt Online Seminarã€‘[Amazon Route 53 Hosted Zone(YouTube)](https://www.youtube.com/watch?v=jFQswFqA9mA)(59:25)

![route53_2](/images/route53/route53_1-320.jpg)

ã€AWS Black Belt Online Seminarã€‘[Amazon Route 53 Resolver(YouTube)](https://www.youtube.com/watch?v=bax2ZksBzck)(54:18)

![route53_2](/images/route53/route53_2-320.jpg)

[Amazon Route 53 ã‚µãƒ¼ãƒ“ã‚¹æ¦‚è¦](https://aws.amazon.com/jp/route53/)

[Amazon Route 53 ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](https://docs.aws.amazon.com/ja_jp/route53/?id=docs_gateway)

[Amazon Route 53 ã‚ˆãã‚ã‚‹è³ªå•](https://aws.amazon.com/jp/route53/faqs/)

[Amazon Route 53 æ–™é‡‘](https://aws.amazon.com/jp/route53/pricing/)

## ãƒ‰ãƒ¡ã‚¤ãƒ³ã®æ–°è¦ç™»éŒ²

Duration: 0:00:30

AWS ã§ã¯ã€€ Route53 ã«ã¦æ–°è¦ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚’å–å¾—ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

[Amazon Route 53 ã«ç™»éŒ²ã§ãã‚‹æœ€ä¸Šä½ãƒ‰ãƒ¡ã‚¤ãƒ³](https://docs.aws.amazon.com/ja_jp/Route53/latest/DeveloperGuide/registrar-tld-list.html)

## ãƒ‰ãƒ¡ã‚¤ãƒ³ã®ç§»ç®¡

Duration: 0:00:30

[ãƒ‰ãƒ¡ã‚¤ãƒ³ã®ç§»ç®¡](https://docs.aws.amazon.com/ja_jp/Route53/latest/DeveloperGuide/domain-transfer.html)

ä»¥ä¸‹ã®ç§»ç®¡ãŒå¯èƒ½ã§ã™ã€‚

- ä»–ã®ãƒ¬ã‚¸ã‚¹ãƒˆãƒ© â‡’ Route 53
  - [ãƒ‰ãƒ¡ã‚¤ãƒ³ç™»éŒ²ã® Amazon Route 53 ã¸ã®ç§»ç®¡](https://docs.aws.amazon.com/ja_jp/Route53/latest/DeveloperGuide/domain-transfer-to-route-53.html)
  - ä»–ã®ãƒ¬ã‚¸ã‚¹ãƒˆãƒ©ã‹ã‚‰ã®ç§»ç®¡ã¯åˆ¥é€”æ–™é‡‘ãŒç™ºç”Ÿã—ã¾ã™ã€‚æœ€ä¸Šä½ãƒ‰ãƒ¡ã‚¤ãƒ³ã«ã‚ˆã£ã¦æ–™é‡‘ãŒç•°ãªã‚Šã¾ã™ã€‚
- AWS ã‚¢ã‚«ã‚¦ãƒ³ãƒˆ â‡’ åˆ¥ã® AWS ã‚¢ã‚«ã‚¦ãƒ³ãƒˆ
  - [ç•°ãªã‚‹ AWS ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã¸ã®ãƒ‰ãƒ¡ã‚¤ãƒ³ã®ç§»ç®¡](https://docs.aws.amazon.com/ja_jp/Route53/latest/DeveloperGuide/domain-transfer-between-aws-accounts.html)
  - AWS ã‚¢ã‚«ã‚¦ãƒ³ãƒˆé–“ã®ãƒ‰ãƒ¡ã‚¤ãƒ³ç§»ç®¡ã¯æ–™é‡‘ãŒç™ºç”Ÿã—ã¾ã›ã‚“ã€‚
- Route 53 â‡’ ä»–ã®ãƒ¬ã‚¸ã‚¹ãƒˆãƒ©
  - [Amazon Route 53 ã‹ã‚‰åˆ¥ã®ãƒ¬ã‚¸ã‚¹ãƒˆãƒ©ã«ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚’ç§»è¡Œã™ã‚‹](https://docs.aws.amazon.com/ja_jp/Route53/latest/DeveloperGuide/domain-transfer-from-route-53.html)
  - ä»–ã®ãƒ¬ã‚¸ã‚¹ãƒˆãƒ©ã¸ã®ç§»ç®¡ã¯åˆ¥é€”æ–™é‡‘ãŒç™ºç”Ÿã—ã¾ã™ã€‚æœ€ä¸Šä½ãƒ‰ãƒ¡ã‚¤ãƒ³ã«ã‚ˆã£ã¦æ–™é‡‘ãŒç•°ãªã‚Šã¾ã™ã€‚

## Route 53 ã‚’æ§‹æˆã™ã‚‹è¦ç´ 

ä»¥ä¸‹ã§æ§‹æˆã•ã‚Œã¾ã™ã€‚

- ãƒ›ã‚¹ãƒˆã‚¾ãƒ¼ãƒ³
  - ãƒ‰ãƒ¡ã‚¤ãƒ³ãŠã‚ˆã³ã‚µãƒ–ãƒ‰ãƒ¡ã‚¤ãƒ³ã®ãƒˆãƒ©ãƒ•ã‚£ãƒƒã‚¯ã‚’ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã™ã‚‹ãŸã‚ã®ç®¡ç†å˜ä½ï¼ˆã‚³ãƒ³ãƒ†ãƒŠï¼‰ã§ã™ã€‚
- DNS ãƒ¬ã‚³ãƒ¼ãƒ‰
  - ãƒ›ã‚¹ãƒˆã‚¾ãƒ¼ãƒ³å†…ã§ãƒ‰ãƒ¡ã‚¤ãƒ³åã«å¯¾å¿œã™ã‚‹ãƒªã‚½ãƒ¼ã‚¹ã¸ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã™ã‚‹ãŸã‚ã®ç´ä»˜ã‘ã§ã™ã€‚

## ãƒ›ã‚¹ãƒˆã‚¾ãƒ¼ãƒ³

Duration: 0:00:30

ãƒ›ã‚¹ãƒˆã‚¾ãƒ¼ãƒ³ã¯æ¬¡ã® 2 ç¨®é¡ãŒã‚ã‚Šã¾ã™ã€‚

![route53_hostedzone](/images/route53/route53_hostedzone-320.jpg)

- ãƒ‘ãƒ–ãƒªãƒƒã‚¯ãƒ›ã‚¹ãƒˆã‚¾ãƒ¼ãƒ³
  - ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆä¸Šã«å…¬é–‹ã•ã‚ŒãŸ DNS ãƒ‰ãƒ¡ã‚¤ãƒ³ã®ãƒ¬ã‚³ãƒ¼ãƒ‰ã‚’ç®¡ç†ã™ã‚‹ã‚³ãƒ³ãƒ†ãƒŠ
- ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆãƒ›ã‚¹ãƒˆã‚¾ãƒ¼ãƒ³
  - VPC ã«é–‰ã˜ãŸãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯å†…ã® DNS ãƒ‰ãƒ¡ã‚¤ãƒ³ã®ãƒ¬ã‚³ãƒ¼ãƒ‰ã‚’ç®¡ç†ã™ã‚‹ã‚³ãƒ³ãƒ†ãƒŠ

ãƒ›ã‚¹ãƒˆã‚¾ãƒ¼ãƒ³ã‚’å‰Šé™¤ã™ã‚‹ã«ã¯ã€SOA ãƒ¬ã‚³ãƒ¼ãƒ‰ãŠã‚ˆã³ NS ãƒ¬ã‚³ãƒ¼ãƒ‰ã‚’é™¤ãã™ã¹ã¦ã®ãƒ¬ã‚³ãƒ¼ãƒ‰ã‚’äºˆã‚å‰Šé™¤ã—ã¦ãŠãå¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚

## DNS ãƒ¬ã‚³ãƒ¼ãƒ‰ã‚¿ã‚¤ãƒ—

Duration: 0:05:00

![route53_hostedzone_record](/images/route53/route53_hostedzone_record-320.jpg)

ä¸»ãªãƒ¬ã‚³ãƒ¼ãƒ‰ã‚¿ã‚¤ãƒ—ã¯æ¬¡ã®é€šã‚Šã§ã™ã€‚

è©³ç´°ã«ã¤ã„ã¦ã¯ã€[ã‚µãƒãƒ¼ãƒˆã•ã‚Œã‚‹ DNS ãƒ¬ã‚³ãƒ¼ãƒ‰ã‚¿ã‚¤ãƒ—](https://docs.aws.amazon.com/ja_jp/Route53/latest/DeveloperGuide/ResourceRecordTypes.html) ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

ãƒ›ã‚¹ãƒˆã‚¾ãƒ¼ãƒ³ã‚’ä½œæˆã™ã‚‹è‡ªå‹•çš„ã«ä½œæˆã•ã‚Œã‚‹ãƒ¬ã‚³ãƒ¼ãƒ‰

- SOA ãƒ¬ã‚³ãƒ¼ãƒ‰
  - Start of Authority (SOA) ã®ãƒ¬ã‚³ãƒ¼ãƒ‰
  - ãƒ‰ãƒ¡ã‚¤ãƒ³ãŠã‚ˆã³å¯¾å¿œã™ã‚‹ Amazon Route 53 ã®ãƒ›ã‚¹ãƒˆã‚¾ãƒ¼ãƒ³ã«é–¢ã™ã‚‹é‡è¦ãªæƒ…å ±ï¼ˆç®¡ç†è€…ã®ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã€ãƒªãƒ•ãƒ¬ãƒƒã‚·ãƒ¥ã‚µãƒ¼ãƒãƒ¼ã®æ™‚é–“æ ã€ãƒ‰ãƒ¡ã‚¤ãƒ³ã®æ›´æ–°å±¥æ­´ãªã©ï¼‰ã‚’æä¾›ã—ã¾ã™
  - ãƒ›ã‚¹ãƒˆã‚¾ãƒ¼ãƒ³ã‚’ä½œæˆã™ã‚‹ã¨è‡ªå‹•çš„ã«ä½œæˆã•ã‚Œã€ãƒ›ã‚¹ãƒˆã‚¾ãƒ¼ãƒ³ã«ï¼‘ã¤ã ã‘å­˜åœ¨ã—ã¾ã™
  - ã“ã®ãƒ¬ã‚³ãƒ¼ãƒ‰ã¯å‰Šé™¤ã§ãã¾ã›ã‚“
- NS ãƒ¬ã‚³ãƒ¼ãƒ‰
  - ã‚¾ãƒ¼ãƒ³æƒ…å ±ã‚’ç®¡ç†ã™ã‚‹ãƒãƒ¼ãƒ ã‚µãƒ¼ãƒ
  - ï¼”ã¤ã®ãƒãƒ¼ãƒ ã‚µãƒ¼ãƒãŒå‰²ã‚Šå½“ã¦ã‚‰ã‚Œã¾ã™
  - ã“ã®ãƒ¬ã‚³ãƒ¼ãƒ‰ã¯å‰Šé™¤ã§ãã¾ã›ã‚“

ã‚·ã‚¹ãƒ†ãƒ ã«å¿œã˜ã¦ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒè¿½åŠ ã™ã‚‹ãƒ¬ã‚³ãƒ¼ãƒ‰

- A ãƒ¬ã‚³ãƒ¼ãƒ‰
  - ãƒ‰ãƒ¡ã‚¤ãƒ³åã¨ IPv4 ã®å¯¾å¿œ
  - example.com â†’ 192.0.2.1
- AAAA ãƒ¬ã‚³ãƒ¼ãƒ‰
  - ãƒ‰ãƒ¡ã‚¤ãƒ³åã¨ IPv6 ã®å¯¾å¿œ
  - example.com â†’ 2001:db8::1
- CNAME ãƒ¬ã‚³ãƒ¼ãƒ‰

  - ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚’åˆ¥ã®ãƒ‰ãƒ¡ã‚¤ãƒ³ã«ç´ã¥ã‘ã‚‹
  - `sub1.example.com. IN CNAME sub2.example.com.` ã¨ã™ã‚‹ã¨ã€`sub1` ã‚’ `sub2` ã«èª­ã¿æ›¿ãˆã¦ãã‚Œã¾ã™ã€‚
  - ä»¥ä¸‹ã®ã‚ˆã†ãªåŒã˜å®šç¾©ã¯ NG ã§ã™ã€‚(sub1 ã‚’ï¼’ã¤ã®ãƒ‰ãƒ¡ã‚¤ãƒ³ã«ç´ã¥ã‘ã¦ã„ã‚‹)
    - **sub1.example.com.** IN CNAME sub2.example.com.
    - **sub1.example.com.** IN CNAME www.example.com.
    - è©³ç´°ã¯ [RFC1912](https://www.ietf.org/rfc/rfc1912.txt) `A CNAME record is not allowed to coexist with any other data.`
  - åˆ¥ã®ã‚¿ã‚¤ãƒ—ã®ãƒ¬ã‚³ãƒ¼ãƒ‰ã‚’è¿½åŠ ã™ã‚‹ã“ã¨ã‚‚å‡ºæ¥ã¾ã›ã‚“ã€‚

    - **sub1.example.com.** IN CNAME sub2.example.com.
    - **sub1.example.com.** IN A 192.0.2.1

  - Zone Apex ã¨ã‚ˆã°ã‚Œã‚‹ DNS åå‰ç©ºé–“ã®æœ€ä¸Šä½ãƒãƒ¼ãƒ‰ï¼ˆã“ã®å ´åˆã€example.comï¼‰ã«å¯¾ã—ã¦ CNAME ã¯ä½œæˆã§ãã¾ã›ã‚“ã€‚
    - `example.com. IN CNAME sub1.example.com.` ã¨ã™ã‚‹ã®ã¯ NG ã§ã™
    - Zone Apex ã«ã¯ NS ãƒ¬ã‚³ãƒ¼ãƒ‰ãŒå¿…é ˆã§ã‚ã‚Šã€CNAME ã¯åˆ¥ã®ãƒ¬ã‚³ãƒ¼ãƒ‰ã‚¿ã‚¤ãƒ—ã¨å…±å­˜ã§ããªã„ã¨ã„ã†ç‚¹ãŒçŸ›ç›¾ã™ã‚‹ã‹ã‚‰ã€‚
    - è©³ç´°ã¯ [RFC1912](https://www.ietf.org/rfc/rfc1912.txt)

- Alias ãƒ¬ã‚³ãƒ¼ãƒ‰
  - AWS ãƒªã‚½ãƒ¼ã‚¹ã® FQDN(Fully Qualified Domain Name) ã‚’æŒ‡å®šã§ãã‚‹ Route 53 å›ºæœ‰ã®æ©Ÿèƒ½
  - CNAME ã§ã¯åˆ©ç”¨ã§ããªã‹ã£ãŸ Zone Apex ã®ãƒ¬ã‚³ãƒ¼ãƒ‰ã‚’è¿½åŠ ã™ã‚‹ã“ã¨ãŒå¯èƒ½ã§ã™ã€‚
  - CloudFront, Elastic Beanstalk ,ELB, API Gateway, VPC ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ, Global Accelerator, S3 ã®é™çš„ãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚°ãªã©
- MX ãƒ¬ã‚³ãƒ¼ãƒ‰
  - ãƒ¡ãƒ¼ãƒ«ã‚µãƒ¼ãƒ

## DNS ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

Duration: 0:10:00

- ã‚·ãƒ³ãƒ—ãƒ«ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°
  - ãƒ¬ã‚³ãƒ¼ãƒ‰ã‚»ãƒƒãƒˆã«äº‹å‰è¨­å®šã•ã‚ŒãŸå€¤ã®ã¿ã«åŸºã¥ã„ã¦ DNS ã‚¯ã‚¨ãƒªã«å¿œç­”ã™ã‚‹æ–¹å¼
  - ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã§ã™
    ![simple_routing](/images/route53/route53_simple.png)
- ä½ç½®æƒ…å ±ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°
  - ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ä½ç½®æƒ…å ±ï¼ˆDNS ã‚¯ã‚¨ãƒªã®ç™ºä¿¡ä½ç½®ï¼‰ã«åŸºã¥ã„ã¦ DNS ã‚¯ã‚¨ãƒªã«å¿œç­”ã™ã‚‹æ–¹å¼
  - ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã‚’æŒ‡å®šã—ã¦ãŠã‹ãªã„ã¨ã€è¨­å®šã—ãŸåœ°åŸŸä»¥å¤–ã‹ã‚‰ã¯åå‰è§£æ±ºã§ããªã„ã®ã§æ³¨æ„ãŒå¿…è¦ã§ã™ã€‚ï¼ˆæ—¥æœ¬ã¨ç±³å›½ã®ã¿å®šç¾©ã—ãŸå ´åˆã€ãã‚Œä»¥å¤–ã®åœ°åŸŸã‹ã‚‰ã¯ã‚¢ã‚¯ã‚»ã‚¹ã§ããªããªã‚Šã¾ã™ï¼‰
    ![geolocation_routing](/images/route53/route53_geolocation.png)
- åœ°ç†çš„è¿‘æ¥æ€§ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°
  - ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ä½ç½®æƒ…å ±ï¼ˆDNS ã‚¯ã‚¨ãƒªã®ç™ºä¿¡ä½ç½®ï¼‰ã¨ã‚µãƒ¼ãƒãŒåˆ†æ•£é…ç½®ã•ã‚Œã¦ã„ã‚‹å ´åˆã€æœ€ã‚‚è¿‘ã„ã¨ã“ã‚ã«å¿œç­”ã™ã‚‹æ–¹å¼
    ![geoproximity_routing](/images/route53/route53_geoproximity.png)
  - ã€Œä½ç½®æƒ…å ±ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã€ã¨ã®é•ã„ãŒåˆ†ã‹ã‚Šé›£ã„
- ãƒ¬ã‚¤ãƒ†ãƒ³ã‚·ãƒ¼ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°
  - ã‚µãƒ¼ãƒãŒåˆ†æ•£é…ç½®ã•ã‚Œã¦ã„ã‚‹å ´åˆã€æœ€ã‚‚ãƒ¬ã‚¤ãƒ†ãƒ³ã‚·ãƒ¼ãŒä½ã„ã¨ã“ã‚ã«å¿œç­”ã™ã‚‹æ–¹å¼
    ![latency_routing](/images/route53/route53_latency.png)
- åŠ é‡ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°
  - è¤‡æ•°ã®ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã«é‡ã¿ã‚’è¨­å®šã—ã¦ã€é‡ã¿ã«å¿œã˜ã¦ DNS ã‚¯ã‚¨ãƒªã«å¿œç­”ã™ã‚‹æ–¹å¼
    ![weighted_routing](/images/route53/route53_weighted.png)
- ãƒ•ã‚§ã‚¤ãƒ«ã‚ªãƒ¼ãƒãƒ¼ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°
  - ãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯ã«åŸºã¥ã„ã¦ã€åˆ©ç”¨å¯èƒ½ãªãƒªã‚½ãƒ¼ã‚¹ã« DNS ã‚¯ã‚¨ãƒªã‚’å¿œç­”ã™ã‚‹æ–¹å¼
    ![failover_routing](/images/route53/route53_failover.png)
  - ã“ã®ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã‚’ç”¨ã„ã‚‹ã“ã¨ã§ã€ãƒãƒ«ãƒãƒªãƒ¼ã‚¸ãƒ§ãƒ³ã§ã®ãƒ•ã‚§ã‚¤ãƒ«ã‚ªãƒ¼ãƒãƒ¼ã‚’æ§‹æˆã§ãã¾ã™
    ![multi_region_failover_routing](/images/route53/route53_multi_region_failover.png)
- è¤‡æ•°å€¤å›ç­”ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°
  - ãƒ©ãƒ³ãƒ€ãƒ ã«é¸ã°ã‚ŒãŸæœ€å¤§ï¼˜ã¤ã®æ­£å¸¸ãªãƒ¬ã‚³ãƒ¼ãƒ‰ã« IP ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’è¨­å®šã—ã¦ã€è¤‡æ•°ã®å€¤ã‚’å¿œç­”ã™ã‚‹æ–¹å¼
  - â‰’ELBï¼ˆELB ã«ä»£ã‚ã‚‹ã‚‚ã®ã§ã¯ãªã„ãŒè¿‘ã„æ©Ÿèƒ½ï¼‰
    ![multivalue_routing](/images/route53/route53_multivalue.png)
- IP ãƒ™ãƒ¼ã‚¹ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°
  - ã‚¢ã‚¯ã‚»ã‚¹å…ƒã® IP ã‚¢ãƒ‰ãƒ¬ã‚¹ CIDR ã‚’å…ƒã«ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã™ã‚‹æ–¹å¼
  - IPv4 ã¯ /0 ï½/24ã€IPv6 ã¯ /0 ï½/48 ã‚’æŒ‡å®šã§ãã¾ã™
  - 2022-06-01 ã«åˆ©ç”¨å¯èƒ½ã«ãªã£ãŸã‚‚ã®ã§ã™ã€‚[Amazon Route 53 ãŒ DNS ã‚¯ã‚¨ãƒªã® IP ãƒ™ãƒ¼ã‚¹ã®ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã‚’ç™ºè¡¨](https://aws.amazon.com/jp/about-aws/whats-new/2022/06/amazon-route-53-ip-based-routing-dns-queries/)
    ![ip_base_routing](/images/route53/route53_ipbase.png)

## Route 53 Resolver

Duration: 0:00:30

VPC ã«æ¨™æº–ã§é…å‚™ã•ã‚Œã¦ã„ã‚‹ DNS ã‚µãƒ¼ãƒãƒ¼ï¼ˆãƒ•ã‚©ãƒ¯ãƒ¼ãƒ€ãƒ¼ï¼‹ãƒ•ãƒ«ã‚µãƒ¼ãƒ“ã‚¹ãƒªã‚¾ãƒ«ãƒï¼‰ã®ã“ã¨ã§ã€ä»¥å‰ã¯ã€ã€Œ.2 Resolverã€ã‚„ã€ŒAmazon Provided DNSã€ã¨å‘¼ã°ã‚Œã¦ã„ãŸã‚‚ã®ã§ã™ã€‚

![route53_resolver](/images/route53/route53_resolver.png)

ä¸€èˆ¬çš„ã«ã€ãƒªã‚¾ãƒ«ãƒï¼ˆResolverï¼‰ã¨ã¯ã€DNS ã‚µãƒ¼ãƒã¸ãƒ‰ãƒ¡ã‚¤ãƒ³åã‚’ç…§ä¼šã—ã¦å¯¾å¿œã™ã‚‹ IP ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’èª¿ã¹ãŸã‚Šã€ãã®é€†ï¼ˆIP ã‚¢ãƒ‰ãƒ¬ã‚¹ â†’ ãƒ‰ãƒ¡ã‚¤ãƒ³åï¼‰ã‚’èª¿ã¹ãŸã‚Šã™ã‚‹ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢ã®ã“ã¨ã‚’è¨€ã„ã¾ã™ã€‚

ãƒ•ã‚©ãƒ¯ãƒ¼ãƒ€ãƒ¼ã¨ã¯ã€è‡ªèº«ã§ã¯ DNS éå†å¸°çš„å•ã„åˆã‚ã›ã‚’è¡Œã‚ãšã€åˆ¥ã®ãƒ•ãƒ«ã‚µãƒ¼ãƒ“ã‚¹ãƒªã‚¾ãƒ«ãƒãƒ¼ã«è»¢é€ã™ã‚‹ DNS ã‚µãƒ¼ãƒãƒ¼ã®ã“ã¨ã§ã™ã€‚

ãƒ•ãƒ«ã‚µãƒ¼ãƒ“ã‚¹ãƒªã‚¾ãƒ«ãƒã¨ã¯ã€éå†å¸°çš„å•ã„åˆã‚ã›ã‚’è¡Œã„ã€åå‰è§£æ±ºã‚’è¡Œã† DNS ã‚µãƒ¼ãƒãƒ¼ã®ã“ã¨ã§ã™ã€‚

éå†å¸°çš„å•ã„åˆã‚ã›ã¨ã¯ã€çŸ¥ã£ã¦ã„ã‚‹æƒ…å ±ã®ã¿ã‚’å›ç­”ã—ã¦ã‚‚ã‚‰ã†ãƒªã‚¯ã‚¨ã‚¹ãƒˆã§ã™ã€‚å†å¸°çš„å•ã„åˆã‚ã›ã¯ã€ç­”ãˆãŒåˆ†ã‹ã‚‹ã¾ã§ç¹°ã‚Šè¿”ã—ã¦å•ã„åˆã‚ã›ã‚’è¡Œã‚ã›ã‚‹ãƒªã‚¯ã‚¨ã‚¹ãƒˆã§ã™ã€‚

ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‹ã‚‰ã¯ã€`å†å¸°çš„å•ã„åˆã‚ã›` ãŒè¡Œã‚ã‚Œã€ãƒ•ãƒ«ã‚µãƒ¼ãƒ“ã‚¹ãƒªã‚¾ãƒ«ãƒã‹ã‚‰æ¨©å¨ DNS ã‚µãƒ¼ãƒã«ã¯ `éå†å¸°çš„å•ã„åˆã‚ã›` ãŒè¡Œã‚ã‚Œã¾ã™ã€‚æ¨©å¨ DNS ã‚µãƒ¼ãƒã¯è‡ªèº«ãŒç®¡ç†ã—ã¦ã„ã‚‹æƒ…å ±ã®ã¿ã‚’å›ç­”ã™ã‚‹ã®ãŒå½¹å‰²ã§ã™ã€‚

## Route 53 Resolver for Hybrid Clouds

Duration: 0:00:30

ã‚ªãƒ³ãƒ—ãƒ¬ãƒŸã‚¹ã¨ã‚¯ãƒ©ã‚¦ãƒ‰ã®ãƒªã‚½ãƒ¼ã‚¹ã«ã‚ˆã£ã¦æ§‹æˆã•ã‚ŒãŸç’°å¢ƒã§ã®åå‰è§£æ±ºã‚’ä¸€å…ƒåŒ–ã™ã‚‹ãŸã‚ã® Amazon Route53 Resolver ã®æ©Ÿèƒ½æ‹¡å¼µã§ã™ã€‚

å®Ÿä½“ã¯ã€ENIï¼ˆElastic Network Interfaceï¼‰ãªã®ã§ã€ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚°ãƒ«ãƒ¼ãƒ—ã«ã‚ˆã‚‹ã‚¢ã‚¯ã‚»ã‚¹åˆ¶å¾¡ãŒå¯èƒ½ã§ã™ã€‚

![route53_resolver_hybrid](/images/route53/route53_resolver_hybrid.png)

## DNS ãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯

Duration: 0:00:30

Route53 ãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯ã«ã¯ã€ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã€ä»–ã®ãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯ã®ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã€CloudWatch ã‚¢ãƒ©ãƒ¼ãƒ ç­‰ãŒã‚ã‚Šã¾ã™ã€‚

[Amazon Route 53 ãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯ã®ç¨®é¡](https://docs.aws.amazon.com/ja_jp/Route53/latest/DeveloperGuide/health-checks-types.html)

ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã®ãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯ã‚’ä½¿ç”¨ã™ã‚‹ã“ã¨ã§ã€ç‰¹å®šã® URL ã¸ã®ã‚¦ã‚§ãƒ–ãƒšãƒ¼ã‚¸ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆãªã©ã®æ­£å¸¸æ€§ã‚’ç¢ºèªã§ãã¾ã™ã€‚ãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯å¯¾è±¡ã®ã‚¦ã‚§ãƒ–ãƒšãƒ¼ã‚¸ã¯ã€HTTP ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚³ãƒ¼ãƒ‰ 2xx ã¾ãŸã¯ 3xx ã§å¿œç­”ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚

ãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯ã«ã¯åˆ¥é€”æ–™é‡‘ãŒç™ºç”Ÿã—ã¾ã™ã€‚

## Amazon Route 53 ã®æ–™é‡‘

Duration: 0:00:30

[Amazon Route 53 æ–™é‡‘è¡¨](https://aws.amazon.com/jp/route53/pricing/)

ãƒ›ã‚¹ãƒˆã‚¾ãƒ¼ãƒ³ã€ãƒ¬ã‚³ãƒ¼ãƒ‰æ•°ã€å‡¦ç†ã•ã‚ŒãŸã‚¯ã‚¨ãƒªæ•°ã§èª²é‡‘ã•ã‚Œã¾ã™ã€‚

ãƒ›ã‚¹ãƒˆã‚¾ãƒ¼ãƒ³ã®æ–™é‡‘ã¯ã€1 ã‹æœˆæœªæº€ã§ã‚‚æ—¥å‰²ã‚Šè¨ˆç®—ã•ã‚Œã¾ã›ã‚“ã®ã§æ³¨æ„ãŒå¿…è¦ã§ã™

ãƒ†ã‚¹ãƒˆç›®çš„ã¨ã—ã¦åˆ©ç”¨ã§ãã‚‹ã‚ˆã†ã«ã€ä½œæˆå¾Œ 12 æ™‚é–“ä»¥å†…ã«å‰Šé™¤ã•ã‚ŒãŸå ´åˆã¯ç„¡æ–™ã¨ãªã‚Šã¾ã™ã€‚ãŸã ã—ã€ã‚¯ã‚¨ãƒªæ•°ã§ã®èª²é‡‘ã¯ç™ºç”Ÿã—ã¾ã™ã€‚

- ç„¡æ–™æ 
  - ä½œæˆå¾Œ 12 æ™‚é–“ä»¥å†…ã«å‰Šé™¤ã•ã‚ŒãŸãƒ›ã‚¹ãƒˆã‚¾ãƒ¼ãƒ³

## Route 53 ã®ã‚¯ã‚©ãƒ¼ã‚¿

Duration: 0:00:30

ä¸»ãªã‚¯ã‚©ãƒ¼ã‚¿ãƒ¼ã¯æ¬¡ã®é€šã‚Šã§ã™ã€‚

| é …ç›®         | Quota               | å¼•ãä¸Šã’              |
| ------------ | ------------------- | --------------------- |
| ãƒ‰ãƒ¡ã‚¤ãƒ³æ•°   | 20 å€‹               | Yes                   |
| ãƒ›ã‚¹ãƒˆã‚¾ãƒ¼ãƒ³ | 500 å€‹              | Yes                   |
| ãƒ¬ã‚³ãƒ¼ãƒ‰æ•°   | 10,000/ãƒ›ã‚¹ãƒˆã‚¾ãƒ¼ãƒ³ | Yesï¼ˆãŸã ã—è¿½åŠ æ–™é‡‘ï¼‰ |

ãã‚Œä»¥å¤–ã«ã¤ã„ã¦ã¯ã€ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

[Amazon Route 53>ã‚¯ã‚©ãƒ¼ã‚¿](https://docs.aws.amazon.com/ja_jp/Route53/latest/DeveloperGuide/DNSLimitations.html)

## Amazon Route 53 ãŒ DNS ãƒªã‚½ãƒ¼ã‚¹ãƒ¬ã‚³ãƒ¼ãƒ‰ã‚»ãƒƒãƒˆã«å¯¾ã™ã‚‹ã‚¢ã‚¯ã‚»ã‚¹è¨±å¯ã‚’ã‚µãƒãƒ¼ãƒˆï¼ˆ2022-9-21ï¼‰

Duration: 00:01:00

[Amazon Route 53 ãŒ DNS ãƒªã‚½ãƒ¼ã‚¹ãƒ¬ã‚³ãƒ¼ãƒ‰ã‚»ãƒƒãƒˆã«å¯¾ã™ã‚‹ã‚¢ã‚¯ã‚»ã‚¹è¨±å¯ã‚’ã‚µãƒãƒ¼ãƒˆ](https://aws.amazon.com/jp/about-aws/whats-new/2022/09/amazon-route-53-support-dns-resource-record-set-permissions/)

ä»Šã¾ã§ã¯ã€IAM ãƒãƒªã‚·ãƒ¼ã§ Route 53 ã®ãƒ›ã‚¹ãƒˆã‚¾ãƒ¼ãƒ³ã«å¯¾ã™ã‚‹ãƒ¬ã‚³ãƒ¼ãƒ‰æ“ä½œã‚’åˆ¶é™ã™ã‚‹ã“ã¨ãŒã§ãã¾ã—ãŸãŒã€ç‰¹å®šã®ãƒ¬ã‚³ãƒ¼ãƒ‰ã ã‘ã¨ã„ã†åˆ¶é™ã¯å‡ºæ¥ã¾ã›ã‚“ã§ã—ãŸã€‚

```json
{
  "Version": "2012-10-17",
  "Statement": [
    {
      "Effect": "Allow",
      "Action": "route53:ChangeResourceRecordSets",
      "Resource": "arn:aws:route53:::hostedzone/Z11111112222222333333"
    }
  ]
}
```

ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã«ã‚ˆã‚Šã€ç‰¹å®šã®åå‰ã® DNS ãƒ¬ã‚³ãƒ¼ãƒ‰ã¸ã®ã‚¢ã‚¯ã‚»ã‚¹åˆ¶é™ãŒã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚

```json
{
  "Version": "2012-10-17",
  "Statement": [
    {
      "Effect": "Allow",
      "Action": "route53:ChangeResourceRecordSets",
      "Resource": "arn:aws:route53:::hostedzone/Z11111112222222333333",
      "Condition": {
        "ForAllValues:StringEquals": {
          "route53:ChangeResourceRecordSetsNormalizedRecordNames": [
            "example.com",
            "marketing.example.com"
          ]
        }
      }
    }
  ]
}
```

ç‰¹å®šã®ã‚µãƒ•ã‚£ãƒƒã‚¯ã‚¹ã«å¯¾ã—ã¦åˆ¶å¾¡ã™ã‚‹å ´åˆã¯æ¬¡ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚

```json
{
  "Version": "2012-10-17",
  "Statement": [
    {
      "Effect": "Allow",
      "Action": "route53:ChangeResourceRecordSets",
      "Resource": "arn:aws:route53:::hostedzone/Z11111112222222333333",
      "Condition": {
        "ForAllValues:StringLike": {
          "route53:ChangeResourceRecordSetsNormalizedRecordNames": [
            "*-beta.example.com"
          ]
        }
      }
    }
  ]
}
```

è©³ç´°ã«ã¤ã„ã¦ã¯ã€ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

[ãã‚ç´°ã‹ãªã‚¢ã‚¯ã‚»ã‚¹ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«ã®ãŸã‚ã® IAM ãƒãƒªã‚·ãƒ¼æ¡ä»¶ã‚’ä½¿ç”¨ã—ã¦ãƒªã‚½ãƒ¼ã‚¹ãƒ¬ã‚³ãƒ¼ãƒ‰ã‚»ãƒƒãƒˆã‚’ç®¡ç†ã™ã‚‹](https://docs.aws.amazon.com/ja_jp/Route53/latest/DeveloperGuide/specifying-rrset-conditions.html#route53_rrset_conditionkeys-examples)

## ğŸ“– ã¾ã¨ã‚

Duration: 00:01:00

![route53](/images/all/route53.png)
